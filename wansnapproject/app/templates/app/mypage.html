<!DOCTYPE html>
<html lang='ja'>

{% extends "app/base.html" %}
{% load static %}

{% block title %}ãƒã‚¤ãƒšãƒ¼ã‚¸ç”»é¢ - ãƒ¯ãƒ³ã‚¹ãƒŠãƒƒãƒ—{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'app/mypage.css' %}">
{% endblock %}

{% block content %}
    <h2>ğŸ¶ãƒã‚¤ãƒšãƒ¼ã‚¸ğŸ¶</h2>

    <h4>ã†ã¡ã®å­ä¸€è¦§</h4>

        <ul>
            {% for dog in dogs %}
                <li>
                    <a href="{% url 'dog_detail' dog.id %}">{{ dog.dog_name }}ã®éƒ¨å±‹</a>
                </li>
            
            {% empty %}
                <li>ã¾ã ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“</li>
            
            {% endfor %}
        </ul><br><br>

        <a href="{% url 'create_post' %}">
            <button type = "button">ã†ã¡ã®å­æŠ•ç¨¿</button>
        </a><br><br>

        <a href="{% url 'favorite_list' %}">
            <button type = "button">ãŠæ°—ã«å…¥ã‚Šä¸€è¦§</button>
        </a><br><br>

        <a href="{% url 'add_dog' %}">
            <button type = "button">ã†ã¡ã®å­æ–°è¦è¿½åŠ </button>
        </a><br><br>

        <button id = "openUserEditModal" type = "button">
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²å¤‰æ›´
        </button><br><br>

        <div id = "userEditModal" class="modal hidden">
            <div class = "modal-content">
                <span id="closeModalButton" class="close-btn">&times;</span>

                <h2>ä½•ã‚’å¤‰æ›´ã—ã¾ã™ã‹ï¼Ÿ</h2>
                <ul>
                    <li>
                        <a href="{% url 'edit_user_email' %}">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å¤‰æ›´</a>
                    </li>
                    <li>
                        <a href="{% url 'edit_user_password' %}">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´</a>
                    </li>
                </ul>
            </div>
        </div>       
{% endblock %}

{% block script %}
    {{ block.super }}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const openBtn = document.getElementById("openUserEditModal");
            const modal = document.getElementById("userEditModal");
            const closeBtn = document.getElementById("closeModalButton");

            if (openBtn && modal && closeBtn) {
                openBtn.addEventListener("click", function () {
                    modal.classList.remove("hidden");
                });

                closeBtn.addEventListener("click", function () {
                    modal.classList.add("hidden");
                });

                modal.addEventListener("click", function (e) {
                    if (e.target === modal){
                        modal.classList.add("hidden");
                    }
                });
            }
        });
    </script>
{% endblock %}